\section{Subgroups and Cosets}

From here on out, we'll almost exclusively use multiplicative notation when discussing group operations. Also, constantly specifying the name of a group's operation can get tedious, so by abuse of notation, we can feel free to refer to a group $G$ by itself. When we do this, it's implied that $G$ has an associated operation that satisfies the group axioms. Since it's still convenient to give this operation a name, we might as well call it multiplication in most cases. And finally, since every group operation is associative, we can drop parentheses in any expression for clarity. For our purposes, these notation decisions shouldn't cause any confusion or ambiguity.

Subgroups are a somewhat natural extension from the concept of groups. The formal definition is given below.

\begin{definition}
Let $G$ be a group, and let $H \subseteq G$. If under the binary operation of $G$, $H$ forms a group, we call $H$ a \textbf{subgroup} of $G$.
\end{definition}

An important and related concept is closure under a specified binary operation.

\begin{definition}
Let $*$ be a binary operation defined on a set $A$, and let $B \subseteq A$. If for all $a, b \in B$, $a*b$ is also in $B$, then $B$ is \textbf{closed under}, or \textbf{has closure under}, the operation $*$.
\end{definition}

In order for $H$ to be a subgroup of $G$, $H$ needs to satisfy the group axioms. This makes the next theorem feel somewhat tautological, but it provides a methodical way to check if a given subset $H$ is indeed a subgroup of $G$.

\begin{theorem}
\label{subgroup}
Let $G$ be a group, and let $H \subseteq G$. Then $H$ is a subgroup of $G$ if and only if:
\begin{itemize}
    \item $e \in H$
    \item For all $a \in H$, $\inv{a} \in H$. (\textbf{Closure under inverses})
    \item For all $a, b \in H$, $ab \in H$. (\textbf{Closure under multiplication})
\end{itemize}
\end{theorem}

\begin{proof}
Suppose $H$ is a subgroup of $G$. Then the group axioms hold within $H$, so clearly the first two properties hold. And if $H$ is a group under the operation of $G$, then this operation is a map from $H \times H$ to $H$. The third property follows from this.

Conversely, suppose that the above properties hold for a subset $H$ of $G$. Since we are guaranteed an identity element, and an inverse for every element, we only need to check the associative property. Let $a, b, c \in H$. Then applying the group axioms in $G$, we have $a(bc) = (ab)c$. But this can also be viewed as an equation in $H$, so multiplication is associative within $H$.

\end{proof}

\begin{example}
If $G$ is any group, the set $\{e\}$ containing only the identity, with binary operation $e*e = e$, is always a subgroup of $G$ that quickly satisfies the requirements of Theorem \ref{subgroup}. This is sometimes called the \textbf{trivial subgroup} of $G$. Moreover, $G$ is also a subgroup of itself, the \textbf{improper subgroup} of $G$.
\end{example}

\begin{example}
\label{4z}
Take the set $\{\dots, -8, -4, 0, 4, 8, \dots\} \subseteq \z$ consisting of all multiples of $4$, with the operation of addition. This is denoted $4\z$. We can see $0 \in 4\z$, and acts as the identity. Also, if $n = 4k$ for $k \in \z$, then $-n = -(4k) = 4(-k) \in 4\z$. Finally, $4a + 4b = 4(a+b) \in 4\z$ for any $4a, 4b \in 4\z$. Therefore $4\z$ is a subgroup of $\z$ under addition. The same method can show that $n\z$ is a subgroup of $\z$ for any $n \geq 1$.
\end{example}

\begin{example}
Take within $D_3$ the subset $\{e, \rho_1, \rho_2\}$ of the rotations and the identity (a trivial rotation). By examining the Cayley table in Figure \ref{cayleyD3}, we see that this set is closed under composition and inverses, and is thus a subgroup of $D_3$. By a similar argument, the subset $\{e, \mu_1\}$ is also a subgroup of $D_3$.
\end{example}

Subgroups also naturally give rise to discussion of cosets.

\begin{definition}
Let $H$ be a subgroup of a group $G$, and let $a \in G$. The set $\{ah \,|\, h \in H\}$, denoted $aH$, is a subset of $G$. We call this the \textbf{left coset} of $H$ containing $a$. Similarly, the set $Ha = \{ha \,|\, h \in H\}$ is called the \textbf{right coset} of $H$ containing $a$.
\end{definition}

\begin{example}
Take the group $\z$ and its subgroup $4\z$. Here, note that we'll write cosets in additive notation, because these groups are written in additive notation. The cosets are given below.
\begin{align*}
    0 + 4\z &= \{\dots, -8, -4, 0, 4, 8, \dots\} \\
    1 + 4\z &= \{\dots, -7, -3, 1, 5, 9, \dots\} \\
    2 + 4\z &= \{\dots, -6, -2, 2, 6, 10, \dots\} \\
    3 + 4\z &= \{\dots, -5, -1, 3, 5, 11, \dots\}
\end{align*}
We'll prove soon the intuitive fact that these cosets do indeed partition $\z$. We could also take the coset of any other integer. For example, $-6 + 4\z = \{\dots, -14, -10, -6, -2, 2, 6, 10, \dots\} = 2 + 4\z$. This shows that the choices of representatives for cosets is not unique.
\end{example}

\begin{example}
Consider $D_3$ and its subgroup $H = \{e, \mu_1\}$. The left cosets of $H$ are as follows:
\begin{align*}
    eH      &= \{e, \mu_1\}      \\
    \rho_1H &= \{\rho_1, \mu_2\} \\
    \rho_2H &= \{\rho_2, \mu_3\} \\
\end{align*}
We can also verify (using the Cayley table in Figure \ref{cayleyD3}) that these left cosets are unique. That is, $\mu_2H = \rho_1H$, and $\mu_3H = \rho_2H$. We will prove that this is true in general in Theorem \ref{cosets}.
\end{example}

The following theorems and proofs involving left cosets have symmetrical theorems and proofs involving right cosets. For this document we'll mostly deal with left cosets, but this is only done for simplicity. Right cosets have corresponding properties. Cosets have a number of interesting properties, but the next few proofs  aren't illuminating by themselves. Therefore it's far more important to have a good intuition for some of their basic properties than to remember all the mechanics of the proofs.

\begin{theorem}
\label{cosets}
Let $H$ be a subgroup of $G$, and let $a, b \in G$. The following are equivalent:
\begin{itemize}
\item $a \in bH$
\item $aH = bH$
\item $\inv{b}a \in H$
\end{itemize}
\end{theorem}

\begin{proof}

We'll prove these implications in order. First, suppose $a \in bH$. So $a = bh_1$ for some $h \in H$. Let $ah \in aH$. Then $ah = (bh_1)h = b(h_1 h)$. Because $H$ is a subgroup, $h_1 h \in H$, so $b(h_1 h) \in bH$, meaning that $ah \in bH$, or $aH \subseteq bH$. Now let $bh \in bH$. Note that $b = a \inv{h_1}$. Therefore $bh = (a \inv{h_1})h = a (\inv{h_1}h)$. Again, because $H$ is a subgroup, $\inv{h_1} h \in H$, so $bh \in aH$, and $bH \subseteq aH$. Therefore $aH = bH$.

Now suppose that $aH = bH$. If $ah_1 \in aH$, then there exists an $h_2 \in H$ such that $ah_1 = bh_2$. Multiplying on the left by $\inv{b}$ and on the right by $\inv{h_1}$, we see that $\inv{b}a = h_2 \inv{h_1}$. Because $H$ is a subgroup, we therefore have $\inv{b}a \in H$.

Finally, suppose that $\inv{b}a \in H$. So there exists an $h \in H$ such that $\inv{b}a = h$. Multiplying on the left by $b$, this implies that $a = bh \in bH$, proving the theorem.

\end{proof}

Again, the mechanics of the proof above aren't terribly important. The important thing to realize is that, in a loose sense, the equivalent statements above can be ``multiplied by $b$'' to get one of the other forms. Internalizing this result will help in all of our work from here on out. Also, from this we immediately have the following.

\begin{corollary}
\label{cosetcorollary}
Let $h \in H$. Then $hH = H$.
\end{corollary}

\begin{proof}
First, we immediately see that $eH = \{eh \,|\, h \in H\} = H$. Therefore, taking $a=h$ and $b=e$ in the preceding theorem, we're given the first bulleted property. Therefore the second property holds, and $hH = eH = H$.

\end{proof}

\begin{theorem}
\label{cosetpartition}
Let $H$ be a subgroup of a group $G$. Then the set of all left cosets of $H$ partition $G$.
\end{theorem}

\begin{proof}
Since $H$ is a subgroup of $G$, we must have $e \in H$, so $H$ is nonempty. Therefore no left coset of $H$ is empty by construction. Let $a \in G$. Since $e \in H$, we have $ae = a \in aH$, so each element is in at least one coset. Suppose $a \in bH$ and $a \in cH$ for $b, c \in G$. By the above theorem, we therefore have $aH = bH$ and $aH = cH$. Set equality is an equivalence relation, so therefore $bH = cH$. This shows that every element of $G$ is in exactly one left coset of $H$.

\end{proof}

At this point, we'll take a slight detour to prove Lagrange's Theorem. While not strictly necessary to understand the Fundamental Homomorphism Theorem, the result is so elegant that we would be remiss to leave it out.

\begin{theorem}
\label{cosetsize}
If \extra $H$ is a subgroup of $G$, then every left coset of $H$ has the same cardinality as $H$ itself.
\end{theorem}

\begin{proof}
Let $aH$ be a coset of $H$. We'll find a bijection between $H$ and $aH$, namely, the map defined by $f(x) = ax$. Suppose that $f(g) = f(h)$. Then $ag = ah$, and by cancellation, $g=h$, so $f$ is an injection. And clearly if $y \in aH$, then $y = ah$ for some $h \in H$, so $f(h) = ah = y$. So $f$ is surjective, and therefore a bijection.
\end{proof}

\begin{definition}
Let \extra $G$ be a group. The number of elements in $G$ is called the \textbf{order} of $G$, denoted $|G|$. If $G$ has finitely many elements we call it a \textbf{finite group}. Otherwise, we say $G$ has \textbf{infinite order}.
\end{definition}

\begin{theorem}[Lagrange's Theorem]
Let \extra $G$ be a finite group. If $H$ is a subgroup of $G$, then the order of $H$ divides the order of $G$.
\end{theorem}

\begin{proof}
By Theorem \ref{cosetpartition}, the cosets of $H$ partition $G$. And by Theorem \ref{cosetsize}, each coset of $H$ has size $|H|$. If there are $n$ distinct cosets of $H$, then the quantity $n|H|$ counts each element of $G$ exactly once. Therefore
\begin{equation*}
    |G| = n|H|\mathrm{,}
\end{equation*}
so the order of $H$ is a divisor of the order of $G$.

\end{proof}

\begin{example}
Take the subset $\{0, 2, 4\}$ of $\zn[6]$. By computing every possible sum in this set, we see this is actualy a subgroup of $\zn[6]$. Note that Lagrange's Theorem holds, as $\left|\zn[6]\right| = 6$ and $|\{0, 2, 4\}| = 3$, and $3|6$. By the contrapositive of the theorem, we also see that any subset of $\zn[6]$ with cardinality other than $1, 2, 3$, or $6$ can't be a subgroup of $\zn[6]$.
\end{example}

\begin{example}
Consider $\zn[p]$, where $p$ is prime. By Lagrange's Theorem, the only possible orders for subgroups of $\zn[p]$ are $1$ and $p$. Therefore $\zn[p]$ has no proper nontrivial subgroups.
\end{example}